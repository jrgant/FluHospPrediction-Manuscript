---
title: "Predicting seasonal influenza hospitalization using an ensemble super learner: a simulation study"
author:
  - name: Jason R. Gantenberg
    email: jrgant@brown.edu
    affiliation:
    - 1
    - 2
    corresponding: jrgant@brown.edu
  - name: Kevin W. McConeghy
    affiliation:
    - 2
    - 3
  - name: Laura B. Balzer
    affiliation: 4
  - name: Chanelle J. Howe
  - affiliation: 5
  - name: Andrew R. Zullo
  - affiliation:
    - 1
    - 2
address:
  - code: 1
    address: Department of Epidemiology, Brown University School of Public Health, 121 S. Main St., Providence, RI, 02912
  - code: 2
    address: Department of Health Services, Policy and Practice, 121 S. Main St., Providence, RI, 02912
  - code: 3
    address: Providence VA Medical Center, 830 Chalkstone Ave., Providence, RI, 02908
  - code: 4
    address: Department of Biostatistics and Epidemiology, School of Public Health and Health Sciences, University of Massachusetts Amherst, 427 Arnold House, 715 N. Pleasant St., Amherst, MA 01003
  - code: 5
    address: Department of Epidemiology, Center for Epidemiology and Environmental Health, Brown University School of Public Health, 121 S. Main St., Providence, RI, 02912
abstract: |
  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur eget porta erat. Morbi consectetur est vel gravida pretium. Suspendisse ut dui eu ante cursus gravida non sed sem. Nullam sapien tellus, commodo id velit id, eleifend volutpat quam. Phasellus mauris velit, dapibus finibus elementum vel, pulvinar non tellus. Nunc pellentesque pretium diam, quis maximus dolor faucibus id. Nunc convallis sodales ante, ut ullamcorper est egestas vitae. Nam sit amet enim ultrices, ultrices elit pulvinar, volutpat risus.

author_summary: |
  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur eget porta erat. Morbi consectetur est vel gravida pretium. Suspendisse ut dui eu ante cursus gravida non sed sem. Nullam sapien tellus, commodo id velit id, eleifend volutpat quam. Phasellus mauris velit, dapibus finibus elementum vel, pulvinar non tellus. Nunc pellentesque pretium diam, quis maximus dolor faucibus id. Nunc convallis sodales ante, ut ullamcorper est egestas vitae. Nam sit amet enim ultrices, ultrices elit pulvinar, volutpat risus.

bibliography: references.bib
output: rticles::plos_article
csl: plos.csl
---

# Meta

**Target journal:** _PLoS Computational Biology_

\noindent
**Section:** Epidemiology and Clinical/Translational Studies

\noindent
**Potential editors:**

- Benjamin Althouse
- Miles Davenport
- Matthew Ferrari
- Roger Kouyos
- James Lloyd-Smith

\noindent
**Potential reviewers:**

- Ryan J. Tibshirani (co-author on paper we use for curve simulation)
- Logan C. Brooks (co-author on paper we use for curve simulation)
- Roni Rosenfeld (co-author on paper we use for curve simulation)
- Sherri Rose
- David A. Osthus
- Samrachana Adhikari

```{r include=FALSE}
library(FluHospPrediction)
```

# Introduction

Each year, seasonal influenza causes approximately XXXX hospitalizations and XXXX deaths per year in the United States alone [cite]. Being able to predict how influenza-related hospitalizataions will change over time during any given influenza season can assist policymakers, public health officials, and physicians allocate resources appropriately and prepare more efficiently for changes in hospitalization rates.

While influenza forecasting is a still-maturing science [@Reich2019-uk], researchers have made considerable progress over the past decade in improving the quality of and capacity for forecasting influenza-like illness (ILI) [cite], thanks in part to the FluSight forecasting competitions sponsored by the Centers for Disease Control and Prevention (CDC) since the 2013--14 flu season [cite]. Many different types of models have been used to generate forecasts, including statistical time series models [@Reich2019-uk; @Biggerstaff2018-ns], Bayesian regression [cite], and agent-based models [cite], among others. However, ensemble methods have emerged as perhaps the most promising approach to improving the accuracy and stability of epidemic predictions [@Reich2019-ca; @Ray2018-ef].

Ensembles combine predictions generated by a set of component models [@Reich2019-ca; @Hastie2009-ft; @Wolpert1992-pw; @Breiman1996-ez]. In some cases, ensembles aggreggate component model predictions by weighting better predictions more highly in the final ensemble prediction [@Ray2018-ef; @Reich2019-ca], though other weighting criteria can be applied [@Ray2018-ef]. The rationale for using ensemble predictions rests in their ability to borrow the strengths and discard the weaknesses of various component models. This feature tends to lead not only to more accurate predictions but to more stable ones that can be applied across a range of scenarios [@Ray2018-ef]. The CDC's primary in-season ILI forecasts are now based on an ensemble forecast generated by aggregating predictions from a growing library of individual forecasts submitted by research teams around the U.S. [].

To date, most work has focused on ILI [@Reich2019-uk; @Biggerstaff2018-ns; @McGowan2019-ph; @Kandula2018-sq; @Brooks2015-fl], with considerably less effort having been exerted so far on predicting influenza-related hospitalization rates [@Kandula2019-tg]. Because the dynamics of flu-related hospitalizations might evolve differently over the course of an influenza season---at the very least, lagging influenza incidence by a week or two [citation needed]---and because hospitalization rates are an independent signal of the severity of disease caused by circulating flu strains, optimizing ensembles to predict hospitalization rates can provide complementary information to ILI forecasts.

One ensemble machine learning method in particular, dubbed "super learner" [@Van_der_Laan2007-ml; @Polley2010-cb; @Polley2011-oz], exhibits a number of desirable properties that suggest it may be a powerful tool for predicting flu hospitalizations. First, its developers have demonstrated that, asymptotically, the super learner is an oracle estimator, performing as well as the best-fitting component model and converging almost as quickly [@Polley2010-cb] [also will want to read and cite the 2003 paper of van der Laan's]. Second, this oracle property generally translates to finite samples [cite correct Polley and van der Laan papers]. Finally, several packages have been developed to implement the super learner algorithm [@Polley2019-sl; @Coyle2020-ze], providing researchers easy access to a relatively large library of component models and a means to calculate cross-validated prediction risks quite easily [@Coyle2020-ze].

In this study, we sought to train an ensemble learner on a distribution of simulated influenza hospitalization curves to generate predictions for three seasonal target parameters based on the CDC forecasting competitions [@Centers_for_Disease_Control_and_Prevention_undated-tx]: peak hospitalization rate, peak week of the season, and cumulative hospitalization rate. We sought to compare the performance of the ensemble learner to the best-performing component model and a naive historical average prediction across the 30 weeks of a flu season for each of these three prediction targets.

# Methods

# Results

# Discussion

# Software and code

All code is provided at ... [set up persistent DOI at Zenodo or Open Science Framework and link to Github repo for FluHospPrediction package]

# Declarations

## Acknowledgement

We thank Ashley Naimi and Nicholas Reich for their comments on earlier versions of the analysis plan.

## Funding statement

This work was funded by an unrestricted grant from Sanofi (PI: Andrew Zullo). The funders did not assist in the statistical analysis nor did they have a say in the final decision to submit the manuscript for publication.

## Competing interests

[solicit competing interests from co-authors]

# References {#references .unnumbered}

\bibliography{references}

# Supporting information
